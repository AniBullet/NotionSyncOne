# 更新日志

## [1.0.1] - 2026-01-05

### 🐛 修复

- **修复微信公众号文章过长导致同步失败（错误码 45166）**
  - 根据官方规定自动截断超长内容（标题 64 字符、摘要 120 字符、正文 20,000 字符）
  - 智能在段落边界截断，确保 HTML 标签正确闭合
  - 截断后添加提示信息，引导读者查看原文链接

### 🔧 优化

- 简化字符截断逻辑，使用标准字符数而非字节数
- 优化日志输出，显示截断前后的长度对比

### ✨ 新功能

- **自动更新检查** - 应用启动时自动检查 GitHub 最新版本
- **主页更新提示** - 标题栏显示绿色脉冲"有新版本"标签
- **一键跳转** - 点击更新提示直达"关于"页面查看详情

### 🔒 安全

- **升级 Electron** - 从 32.3.3 升级到 35.7.5，修复 ASAR 完整性绕过漏洞（GHSA-vmqv-hx8q-j7mg）
- **优化 CSP 策略** - 移除 `unsafe-eval`，加强内容安全策略，提升应用安全性

---

## [1.0.0] - 2026-01-03

### ✨ 新功能

**核心同步能力**
- 🔄 支持 Notion → 微信公众号 / WordPress 双平台同步
- 📄 支持草稿/直接发布两种模式
- ⏸️ 支持中断同步操作
- 📊 实时同步状态显示

**内容处理**
- 📸 图片自动上传到微信素材库（支持封面图和正文图片）
- 💻 代码块美化渲染（带行号、语法高亮）
- 🔗 超链接优化展示
- 📋 文章属性信息自动生成

**WordPress 集成**
- 🏷️ 支持分类和标签设置
- 🖼️ 特色图片自动设置
- ⚡ 优化同步速度

### 🎨 界面

- 简洁现代的界面设计
- 文章列表与预览
- 配置管理（Notion / 微信 / WordPress）
- 实时日志输出

### 🐛 修复

- 修复封面图不显示问题
- 修复 WordPress 同步偶尔无法设置封面图的问题
- 优化安全性（配置文件加密存储）
- 精简打包体积

### 🔧 技术栈

- Electron + React + TypeScript
- Notion API / 微信公众号 API / WordPress REST API
- Vite 构建工具

